/* Copyright (C) 2012 Frozenball <orkkiolento[at]gmail[dot]com>, MIT license */
(function(a){var b=function(b){el=a('<div id="'+b["useID"]+'" style="position:fixed; top:0px; left:0px; right:0px; bottom:0px;"></div>');if(b["bgColor"]!==null){el.css("background-color",b["bgColor"])}el.css("opacity",b["opacity"]);el.css("z-index",b["zIndex"]);a("html").append(el);if(b["animation"]===true)el.hide().fadeIn("fast");return el};var c=[];var d={bgColor:"black",opacity:.7,zIndex:1e3,animation:true,useID:"jQueryHighlight",timeOut:false};var e=function(b){var e=a.extend({},d,b);a.each(c,function(){var a=this[0];a.css("position",this[1]);a.css("z-index",this[2])});if(e["animation"]===true){a("#"+e["useID"]).fadeOut("fast",function(){a(this).remove()})}else{a("#"+e["useID"]).remove()}};a.highlight=function(a){if(a===undefined)a={};e(a)};a.fn.highlight=function(f){if(f===undefined)f={};var g=a.extend({},d,f);e(g);b(g);if(g["timeOut"]!==false){setTimeout(function(){e(g)},g["timeOut"])}return this.each(function(){var b=a(this);c.push([b,b.css("position"),b.css("z-index")]);b.css("position","relative");b.css("z-index",g["zIndex"]+1)})}})(jQuery)